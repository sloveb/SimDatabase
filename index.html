<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SBL SIMDATABASE</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: #ffffff;
        }
        
        .container {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 25px 20px;
        }
        
        .logo {
            font-size: 2.2rem;
            font-weight: 800;
            color: #4fc3f7;
            margin-bottom: 8px;
            text-shadow: 0 2px 10px rgba(79, 195, 247, 0.5);
            letter-spacing: 0.5px;
            line-height: 1.2;
        }
        
        .subtitle {
            font-size: 1.1rem;
            color: #4fc3f7;
            margin-bottom: 6px;
            font-weight: 500;
        }
        
        .tagline {
            font-size: 0.95rem;
            color: #81d4fa;
            font-style: italic;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 35px 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            width: 100%;
            margin-bottom: 30px;
            border: 1px solid rgba(100, 150, 255, 0.2);
        }
        
        .section-title {
            font-size: 1.4rem;
            color: #4fc3f7;
            margin-bottom: 25px;
            text-align: center;
            font-weight: 600;
        }
        
        .input-container {
            margin-bottom: 25px;
        }
        
        .input-label {
            display: block;
            margin-bottom: 12px;
            font-size: 1.1rem;
            color: #bbdefb;
            font-weight: 500;
            text-align: center;
        }
        
        input {
            width: 100%;
            padding: 18px 20px;
            border: none;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.15);
            color: #ffffff;
            font-size: 1.2rem;
            border: 2px solid rgba(100, 150, 255, 0.3);
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 500;
        }
        
        input:focus {
            outline: none;
            border-color: #4fc3f7;
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 20px rgba(79, 195, 247, 0.3);
        }
        
        input::placeholder {
            color: #90caf9;
            text-align: center;
            font-weight: 400;
        }
        
        button {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #0288d1, #03a9f4);
            color: #fff;
            border: none;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 0.5px;
            box-shadow: 0 8px 20px rgba(2, 136, 209, 0.4);
            margin-top: 10px;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(2, 136, 209, 0.6);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        .hint {
            text-align: center;
            color: #81d4fa;
            margin-top: 15px;
            font-size: 0.95rem;
            font-style: italic;
        }
        
        .result-container {
            margin-top: 30px;
            display: none;
        }
        
        .result-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: #4fc3f7;
            font-weight: 600;
            text-align: center;
        }
        
        .result-box {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            border-left: 4px solid #4fc3f7;
            color: #e3f2fd;
            font-size: 1rem;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.2);
            text-align: center;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .success-message {
            text-align: center;
            margin-top: 20px;
            color: #69f0ae;
            font-weight: 600;
            display: none;
            background: rgba(105, 240, 174, 0.1);
            padding: 15px;
            border-radius: 12px;
            border-left: 4px solid #69f0ae;
        }
        
        .error-message {
            text-align: center;
            margin-top: 20px;
            color: #ff6b6b;
            font-weight: 600;
            display: none;
            background: rgba(255, 107, 107, 0.1);
            padding: 15px;
            border-radius: 12px;
            border-left: 4px solid #ff6b6b;
        }
        
        .loading {
            display: none;
            text-align: center;
            margin: 25px 0;
        }
        
        .spinner {
            border: 5px solid rgba(79, 195, 247, 0.2);
            border-radius: 50%;
            border-top: 5px solid #4fc3f7;
            width: 60px;
            height: 60px;
            animation: spin 1.2s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            color: #4fc3f7;
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .disclaimer {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            border: 1px solid rgba(100, 150, 255, 0.2);
        }
        
        .disclaimer-title {
            font-size: 1.2rem;
            color: #4fc3f7;
            margin-bottom: 15px;
            text-align: center;
            font-weight: 600;
        }
        
        .disclaimer-text {
            color: #bbdefb;
            font-size: 0.9rem;
            line-height: 1.6;
            text-align: justify;
        }
        
        footer {
            margin-top: 40px;
            text-align: center;
            color: #81d4fa;
            font-size: 0.9rem;
            width: 100%;
            padding: 20px;
        }
        
        .record {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(79, 195, 247, 0.3);
            text-align: left;
        }
        
        .record:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .record-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: #4fc3f7;
            margin-bottom: 12px;
            text-align: center;
        }
        
        .record-field {
            margin-bottom: 8px;
        }
        
        .field-label {
            font-weight: bold;
            color: #4fc3f7;
            display: inline-block;
            width: 80px;
        }
        
        .field-value {
            color: #e3f2fd;
        }
        
        @media (max-width: 480px) {
            .container {
                max-width: 100%;
            }
            
            .card {
                padding: 25px 20px;
            }
            
            .logo {
                font-size: 1.9rem;
            }
            
            input, button {
                padding: 16px;
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">SBL SIMDATABASE</div>
            <div class="subtitle">Professional Data Services & Verification</div>
            <div class="tagline">Secure & Reliable</div>
        </div>
        
        <div class="card">
            <div class="section-title">MOBILE NUMBER</div>
            
            <div class="input-container">
                <div class="input-label">Enter Phone Number</div>
                <input type="text" id="numberInput" placeholder="03xxxxxxxxx">
            </div>
            
            <button id="searchBtn">
                <i class="fas fa-search"></i> Search Database
            </button>
            
            <div class="hint">Enter number like this! 03012345678</div>
            
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p class="loading-text">Searching Database...</p>
            </div>
            
            <div class="success-message" id="successMessage">
                <i class="fas fa-check-circle"></i> SEARCH COMPLETED SUCCESSFULLY!
            </div>
            
            <div class="error-message" id="errorMessage">
                <i class="fas fa-exclamation-circle"></i> <span id="errorText"></span>
            </div>
            
            <div class="result-container" id="resultContainer">
                <div class="result-title">SEARCH RESULTS</div>
                <div class="result-box" id="resultBox"></div>
            </div>
        </div>
        
        <div class="disclaimer">
            <div class="disclaimer-title">Important Disclaimer</div>
            <div class="disclaimer-text">
                All services and website are for educational, security, and verification purposes only. 
                We do not support or promote illegal access or misuse of data. Our services comply with 
                applicable data protection regulations and are intended for legitimate verification needs.
            </div>
        </div>
        
        <footer>
            <p>Copyright Â© 2025 SBL Tools. All Rights Reserved</p>
            <p>Professional Data Services</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const numberInput = document.getElementById('numberInput');
            const searchBtn = document.getElementById('searchBtn');
            const resultContainer = document.getElementById('resultContainer');
            const resultBox = document.getElementById('resultBox');
            const loading = document.getElementById('loading');
            const errorMessage = document.getElementById('errorMessage');
            const errorText = document.getElementById('errorText');
            const successMessage = document.getElementById('successMessage');
            
            // CORS Proxy URLs
            const corsProxies = [
                'https://api.allorigins.win/raw?url=',
                'https://corsproxy.io/?',
                'https://api.codetabs.com/v1/proxy?quest='
            ];
            
            let currentProxyIndex = 0;
            
            // Search button click handler
            searchBtn.addEventListener('click', function() {
                const number = numberInput.value.trim();
                
                // Reset previous results and errors
                resultContainer.style.display = 'none';
                errorMessage.style.display = 'none';
                successMessage.style.display = 'none';
                
                // Validate input
                if (!number) {
                    showError('Please enter a phone number');
                    return;
                }
                
                // Validate if it's a valid Pakistani number
                if (!/^03\d{9}$/.test(number)) {
                    showError('Please enter a valid Pakistani number (03XXXXXXXXX)');
                    return;
                }
                
                // Show loading indicator
                loading.style.display = 'block';
                
                // Try with CORS proxy
                tryWithProxy(number, currentProxyIndex);
            });
            
            function tryWithProxy(number, proxyIndex) {
                if (proxyIndex >= corsProxies.length) {
                    // All proxies failed
                    loading.style.display = 'none';
                    showError('Connection failed. Please try again later.');
                    return;
                }
                
                const proxyUrl = corsProxies[proxyIndex];
                const targetUrl = `https://fam-official.serv00.net/api/database.php?number=${number}`;
                const fullUrl = proxyUrl + encodeURIComponent(targetUrl);
                
                fetch(fullUrl, {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json, text/plain, */*',
                    }
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}`);
                    }
                    return response.text();
                })
                .then(data => {
                    // Hide loading indicator
                    loading.style.display = 'none';
                    
                    // Process the response
                    processResponseData(data, number);
                })
                .catch(err => {
                    console.log(`Proxy ${proxyIndex + 1} failed:`, err.message);
                    
                    // Try next proxy
                    tryWithProxy(number, proxyIndex + 1);
                });
            }
            
            function processResponseData(data, searchNumber) {
                // Show success message
                successMessage.style.display = 'block';
                
                // Display results
                if (data && data.trim() !== '' && !data.toLowerCase().includes('error')) {
                    try {
                        // Try to parse as JSON
                        const parsedData = JSON.parse(data);
                        
                        if (parsedData.success && parsedData.data && parsedData.data.length > 0) {
                            // Format the data as records
                            const formattedData = formatJSONData(parsedData.data, searchNumber);
                            resultBox.innerHTML = formattedData;
                        } else {
                            resultBox.innerHTML = 'Data not found';
                        }
                    } catch (e) {
                        // If JSON parsing fails, check if it's text data
                        if (data.includes('Name:') || data.includes('Mobile:')) {
                            const formattedData = formatTextData(data, searchNumber);
                            resultBox.innerHTML = formattedData;
                        } else {
                            resultBox.innerHTML = 'Data not found';
                        }
                    }
                } else {
                    resultBox.innerHTML = 'Data not found';
                }
                
                resultContainer.style.display = 'block';
            }
            
            // Format JSON data
            function formatJSONData(data, searchNumber) {
                let html = '';
                
                if (Array.isArray(data)) {
                    data.forEach((record, index) => {
                        html += `
                            <div class="record">
                                <div class="record-title">Record ${index + 1}</div>
                                <div class="record-field">
                                    <span class="field-label">Name:</span>
                                    <span class="field-value">${record.name || 'N/A'}</span>
                                </div>
                                <div class="record-field">
                                    <span class="field-label">Mobile:</span>
                                    <span class="field-value">${record.mobile || record.number || searchNumber}</span>
                                </div>
                                <div class="record-field">
                                    <span class="field-label">CNIC:</span>
                                    <span class="field-value">${record.cnic || 'N/A'}</span>
                                </div>
                                <div class="record-field">
                                    <span class="field-label">Address:</span>
                                    <span class="field-value">${record.address || 'N/A'}</span>
                                </div>
                            </div>
                        `;
                    });
                } else {
                    html = 'Data not found';
                }
                
                return html;
            }
            
            // Format text data
            function formatTextData(data, searchNumber) {
                // If data is in markdown format like in the screenshot
                if (data.includes('# Record') && data.includes('**Name:**')) {
                    return convertMarkdownToHTML(data);
                }
                
                // Otherwise try to extract information
                const lines = data.split('\n');
                let records = [];
                let currentRecord = {};
                
                for (const line of lines) {
                    const trimmedLine = line.trim();
                    
                    if (trimmedLine.startsWith('# Record')) {
                        if (Object.keys(currentRecord).length > 0) {
                            records.push(currentRecord);
                            currentRecord = {};
                        }
                    } else if (trimmedLine.startsWith('**Name:**')) {
                        currentRecord.name = trimmedLine.replace('**Name:**', '').trim();
                    } else if (trimmedLine.startsWith('**Mobile:**')) {
                        currentRecord.mobile = trimmedLine.replace('**Mobile:**', '').trim();
                    } else if (trimmedLine.startsWith('**CNIC:**')) {
                        currentRecord.cnic = trimmedLine.replace('**CNIC:**', '').trim();
                    } else if (trimmedLine.startsWith('**Address:**')) {
                        currentRecord.address = trimmedLine.replace('**Address:**', '').trim();
                    } else if (trimmedLine !== '' && currentRecord.address && !trimmedLine.startsWith('**')) {
                        currentRecord.address += ' ' + trimmedLine;
                    }
                }
                
                // Add the last record
                if (Object.keys(currentRecord).length > 0) {
                    records.push(currentRecord);
                }
                
                // Format the records
                if (records.length > 0) {
                    let html = '';
                    records.forEach((record, index) => {
                        html += `
                            <div class="record">
                                <div class="record-title">Record ${index + 1}</div>
                                <div class="record-field">
                                    <span class="field-label">Name:</span>
                                    <span class="field-value">${record.name || 'N/A'}</span>
                                </div>
                                <div class="record-field">
                                    <span class="field-label">Mobile:</span>
                                    <span class="field-value">${record.mobile || searchNumber}</span>
                                </div>
                                <div class="record-field">
                                    <span class="field-label">CNIC:</span>
                                    <span class="field-value">${record.cnic || 'N/A'}</span>
                                </div>
                                <div class="record-field">
                                    <span class="field-label">Address:</span>
                                    <span class="field-value">${record.address || 'N/A'}</span>
                                </div>
                            </div>
                        `;
                    });
                    return html;
                } else {
                    return 'Data not found';
                }
            }
            
            // Convert markdown to HTML
            function convertMarkdownToHTML(data) {
                let html = '';
                const records = data.split('---');
                
                records.forEach((record, index) => {
                    if (record.trim() === '') return;
                    
                    const lines = record.split('\n');
                    let recordData = {};
                    
                    lines.forEach(line => {
                        const trimmedLine = line.trim();
                        if (trimmedLine.startsWith('# Record')) {
                            // Record title
                        } else if (trimmedLine.startsWith('**Name:**')) {
                            recordData.name = trimmedLine.replace('**Name:**', '').trim();
                        } else if (trimmedLine.startsWith('**Mobile:**')) {
                            recordData.mobile = trimmedLine.replace('**Mobile:**', '').trim();
                        } else if (trimmedLine.startsWith('**CNIC:**')) {
                            recordData.cnic = trimmedLine.replace('**CNIC:**', '').trim();
                        } else if (trimmedLine.startsWith('**Address:**')) {
                            recordData.address = trimmedLine.replace('**Address:**', '').trim();
                        } else if (trimmedLine !== '' && recordData.address && !trimmedLine.startsWith('**')) {
                            recordData.address += ' ' + trimmedLine;
                        }
                    });
                    
                    if (Object.keys(recordData).length > 0) {
                        html += `
                            <div class="record">
                                <div class="record-title">Record ${index + 1}</div>
                                <div class="record-field">
                                    <span class="field-label">Name:</span>
                                    <span class="field-value">${recordData.name}</span>
                                </div>
                                <div class="record-field">
                                    <span class="field-label">Mobile:</span>
                                    <span class="field-value">${recordData.mobile}</span>
                                </div>
                                <div class="record-field">
                                    <span class="field-label">CNIC:</span>
                                    <span class="field-value">${recordData.cnic}</span>
                                </div>
                                <div class="record-field">
                                    <span class="field-label">Address:</span>
                                    <span class="field-value">${recordData.address}</span>
                                </div>
                            </div>
                        `;
                    }
                });
                
                return html || 'Data not found';
            }
            
            // Function to display error messages
            function showError(message) {
                errorText.textContent = message;
                errorMessage.style.display = 'block';
            }
            
            // Allow Enter key to trigger search
            numberInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchBtn.click();
                }
            });
            
            // Auto-format the input for Pakistani numbers
            numberInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                
                // Auto-add 03 if starting with 3
                if (value.startsWith('3') && value.length <= 10) {
                    value = '0' + value;
                }
                
                // Limit to 11 characters
                if (value.length > 11) {
                    value = value.substring(0, 11);
                }
                
                e.target.value = value;
            });
        });
    </script>
</body>
</html>